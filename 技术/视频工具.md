# 视频处理

### 视频下载
youtube-dl是一个命令行程序，可以从YouTube.com和其他一些网站下载视频。

### youtube-dl示例
./youtube-dl.exe --proxy http://127.0.0.1:7890 -o 'video/%(title)s-2.%(ext)s' https://www.youtube.com/watch?v=test

### 视频编辑
视频编辑软件 kdenlive

### 追加图片到MP4结尾
	# 图片转MP4
	ffmpeg -loop 1 -i logo.jpg -c:v libx264 -t 2 -pix_fmt yuv420p logo.mp4

	# MP4转TS
	ffmpeg -i logo.mp4 -c copy -bsf:v h264_mp4toannexb -f mpegts logo.ts

	# 源MP4转TS
	for file in video/*.mp4; do ffmpeg -i "$file" -c copy -bsf:v h264_mp4toannexb -f mpegts "video-ts/`basename "$file"`.ts"; done

	# 追加图片到视频结尾
	for file in video-ts/*.ts; do ffmpeg -i "concat:$file|logo.ts" -c copy -bsf:a aac_adtstoasc "video-logo/`basename -s .ts "$file"`"; done

### 视频转图片
	ffmpeg -i test.mp4 -vf fps=29 out%04d.png

### 图片转视频
	ffmpeg -i out%04d.png -vf fps=29 out2.mp4